<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert GeoJSON-like objects to WKT — geojson2wkt • rOpenSci: wellknown</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Convert GeoJSON-like objects to WKT — geojson2wkt" />
<meta property="og:description" content="Convert GeoJSON-like objects to WKT" />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>wellknown <small>v0.7.2.91</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/wellknown.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/wellknown/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert GeoJSON-like objects to WKT</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/wellknown/blob/master/R/geojson2wkt.R'><code>R/geojson2wkt.R</code></a></small>
    <div class="hidden name"><code>geojson2wkt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert GeoJSON-like objects to WKT</p>
    </div>

    <pre class="usage"><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>obj</span>, fmt <span class='op'>=</span> <span class='fl'>16</span>, third <span class='op'>=</span> <span class='st'>"z"</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>(list/json/character) A GeoJSON-like object representing a
Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon,
or GeometryCollection</p></td>
    </tr>
    <tr>
      <th>fmt</th>
      <td><p>Format string which indicates the number of digits to display
after the decimal point when formatting coordinates. Max: 20</p></td>
    </tr>
    <tr>
      <th>third</th>
      <td><p>(character) Only applicable when there are three dimensions.
If <code>m</code>, assign a <code>M</code> value for a measurement, and if <code>z</code> assign a
<code>Z</code> value for three-dimenionsal system. Case is ignored. An <code>M</code> value
represents  a measurement, while a <code>Z</code> value usually represents altitude
(but can be something like depth in a water based location).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further args passed on to <code><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>jsonlite::fromJSON()</a></code> only
in the event of json passed as a character string (can also be json
of class <code>json</code> as returned from <code><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>jsonlite::toJSON()</a></code> or simply coerced
to <code>json</code> by adding the class manually)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="inputs"><a class="anchor" href="#inputs"></a>Inputs</h2>

    

<p>Input to <code>obj</code> parameter can take two forms:</p><ul>
<li><p>A list with named elements <code>type</code> and <code>coordinates</code> OR
<code>type</code> and <code>geometries</code> (only in the case of GeometryCollection).
e.g., <code><a href='https://rdrr.io/r/base/list.html'>list(type = "Point", coordinates = c(1, 0))</a></code></p></li>
<li><p>A list with single named element in the set Point, Multipoint,
Polygon, Multipolygon, Linestring, Multilinestring,or Geometrycollection,
e.g., <code><a href='https://rdrr.io/r/base/list.html'>list(Point = c(1, 0))</a></code> - Note that this format is not proper
GeoJSON, but is less verbose than the previous format, so should save
the user time and make it easier to use.</p></li>
</ul>

    <h2 class="hasAnchor" id="each-point"><a class="anchor" href="#each-point"></a>Each point</h2>

    

<p>For any one point, 2 to 4 values can be used:</p><ul>
<li><p>2 values: longitude, latitude</p></li>
<li><p>3 values: longitude, latitude, altitude</p></li>
<li><p>4 values: longitude, latitude, altitude, measure</p></li>
</ul>

<p>The 3rd value is typically altitude though can be depth in an
aquatic context.</p>
<p>The 4th value is a measurement of some kind.</p>
<p>The GeoJSON spec <a href='https://tools.ietf.org/html/rfc7946'>https://tools.ietf.org/html/rfc7946</a> actually
doesn't allow a 4th value for a point, but we allow it here since
we're converting to WKT which does allow a 4th value for a point.</p>
    <h2 class="hasAnchor" id="coordinates-data-formats"><a class="anchor" href="#coordinates-data-formats"></a>Coordinates data formats</h2>

    

<p>Coordinates data should follow the following formats:</p><ul>
<li><p>Point: a vector or list, with a single point (2-4 values)</p></li>
<li><p>MultiPoint: a matrix, with N points</p></li>
<li><p>Linestring: a matrix, with N points</p></li>
<li><p>MultiLinestring: the top most level is a list, containing N matrices</p></li>
<li><p>Polygon: the top most level is a list, containing N matrices</p></li>
<li><p>MultiPolygon: the top most level is a list, the next level is N
lists, each of them containing N matrices</p></li>
<li><p>Geometrycollection: a list containing any combination and number
of the above types</p></li>
</ul>

<p>Matrices by definition can not have unequal lengths in their columns,
so we don't have to check for that user error.</p>
<p>Each matrix can have any number of rows, and from 2 to 4 columns.
If &gt; 5 columns we stop with an error message.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://tools.ietf.org/html/rfc7946'>https://tools.ietf.org/html/rfc7946</a>,
<a href='https://en.wikipedia.org/wiki/Well-known_text'>https://en.wikipedia.org/wiki/Well-known_text</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='wkt2geojson.html'>wkt2geojson()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># point</span>
<span class='co'>## new format</span>
<span class='va'>point</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Point <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>116.4</span>, <span class='fl'>45.2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>point</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (116.4000000000000057  45.2000000000000028)"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>point</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>'Point'</span>, coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>116.4</span>, <span class='fl'>45.2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>point</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (116.4000000000000057  45.2000000000000028)"</div><div class='input'>
<span class='co'># multipoint</span>
<span class='co'>## new format</span>
<span class='va'>mp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPoint <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>3.14</span>, <span class='fl'>3.101</span>, <span class='fl'>2.1</span>, <span class='fl'>2.18</span><span class='op'>)</span>,
   ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOINT ((100.0000000000000000 3.1010000000000000), (101.0000000000000000 2.1000000000000001), (3.1400000000000001 2.1800000000000002))"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>mp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPoint <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span>,
   ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOINT Z((100.0000000000000000 3.0000000000000000 4.0000000000000000), (101.0000000000000000 2.0000000000000000 5.0000000000000000), (3.0000000000000000 2.0000000000000000 6.0000000000000000))"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>mp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>'MultiPoint'</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>3.14</span>, <span class='fl'>3.101</span>, <span class='fl'>2.1</span>, <span class='fl'>2.18</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOINT ((100.0000000000000000 3.1010000000000000), (101.0000000000000000 2.1000000000000001), (3.1400000000000001 2.1800000000000002))"</div><div class='input'>
<span class='co'># linestring</span>
<span class='co'>## new format</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>LineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                               <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span><span class='op'>)</span>,
                               ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING (0.0000000000000000 0.0000000000000000, 2.0000000000000000 1.0000000000000000, 4.0000000000000000 2.0000000000000000, 5.0000000000000000 4.0000000000000000)"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>LineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, 
   <span class='fl'>2</span>, <span class='fl'>1</span>, <span class='fl'>5</span>,
   <span class='fl'>100</span>, <span class='fl'>300</span>, <span class='fl'>800</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span>, fmt <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING Z(0.00 2.00 100.00, 0.00 1.00 300.00, 0.00 5.00 800.00)"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span>, fmt <span class='op'>=</span> <span class='fl'>2</span>, third <span class='op'>=</span> <span class='st'>"m"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING M(0.00 2.00 100.00, 0.00 1.00 300.00, 0.00 5.00 800.00)"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>'LineString'</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                         <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING (0.0000000000000000 0.0000000000000000, 2.0000000000000000 1.0000000000000000, 4.0000000000000000 2.0000000000000000, 5.0000000000000000 4.0000000000000000)"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>LineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                               <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>,
                               <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span><span class='op'>)</span>,
                               ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span>, fmt <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING Z(0.00 0.00 10.00, 2.00 1.00 20.00, 4.00 2.00 30.00, 5.00 4.00 40.00)"</div><div class='input'>
<span class='co'>## 4D</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>LineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                               <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>,
                               <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>,
                               <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span>,
                               ncol <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>st</span>, fmt <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING ZM(0.00 0.00 10.00 1.00, 2.00 1.00 20.00 2.00, 4.00 2.00 30.00 3.00, 5.00 4.00 40.00 4.00)"</div><div class='input'>

<span class='co'># multilinestring</span>
<span class='co'>## new format</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiLineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>4</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.66</span>, <span class='fl'>10.9999</span>, <span class='fl'>10.9</span>, <span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>31.5</span>, <span class='fl'>3.0</span>, <span class='fl'>1.1</span>, <span class='fl'>0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
 <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING ((0.0000000000000000 -1.0000000000000000, -2.0000000000000000 -3.0000000000000000, -4.0000000000000000 -5.0000000000000000), (1.6599999999999999 -31.5000000000000000, 10.9999000000000002 3.0000000000000000, 10.9000000000000004 1.1000000000000001, 0.0000000000000000 0.0000000000000000))"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiLineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>4</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>5</span>, <span class='fl'>100</span>, <span class='fl'>200</span>, <span class='fl'>300</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>10</span>, <span class='fl'>10.9</span>, <span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>31.5</span>, <span class='fl'>3.0</span>, <span class='fl'>1.1</span>, <span class='fl'>0</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
 <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span>, fmt <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING Z((0.00 -1.00 100.00, -2.00 -3.00 200.00, -4.00 -5.00 300.00), (1.00 -31.50 3.00, 10.00 3.00 3.00, 10.90 1.10 3.00, 0.00 0.00 3.00))"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span>, fmt <span class='op'>=</span> <span class='fl'>2</span>, third <span class='op'>=</span> <span class='st'>"m"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING M((0.00 -1.00 100.00, -2.00 -3.00 200.00, -4.00 -5.00 300.00), (1.00 -31.50 3.00, 10.00 3.00 3.00, 10.90 1.10 3.00, 0.00 0.00 3.00))"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>'MultiLineString'</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>4</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.66</span>, <span class='fl'>10.9999</span>, <span class='fl'>10.9</span>, <span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>31.5</span>, <span class='fl'>3.0</span>, <span class='fl'>1.1</span>, <span class='fl'>0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
 <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING ((0.0000000000000000 -1.0000000000000000, -2.0000000000000000 -3.0000000000000000, -4.0000000000000000 -5.0000000000000000), (1.6599999999999999 -31.5000000000000000, 10.9999000000000002 3.0000000000000000, 10.9000000000000004 1.1000000000000001, 0.0000000000000000 0.0000000000000000))"</div><div class='input'>
<span class='co'>## points within MultiLineString that differ </span>
<span class='co'>## -&gt; use length of longest </span>
<span class='co'>## -&gt; fill with zeros</span>
<span class='co'># 3D and 2D</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiLineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING Z((1 3 5, 2 4 6), (1 5 0, 2 6 0, 3 7 0, 4 8 0))"</div><div class='input'><span class='co'># 4D and 2D</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiLineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span>, ncol <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING ZM((1 3 5 7, 2 4 6 8), (1 5 0 0, 2 6 0 0, 3 7 0 0, 4 8 0 0))"</div><div class='input'><span class='co'># 2D and 2D</span>
<span class='va'>multist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiLineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>multist</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTILINESTRING ((1 3, 2 4), (1 5, 2 6, 3 7, 4 8))"</div><div class='input'><span class='co'># 5D and 2D - FAILS</span>
<span class='co'># multist &lt;- list(MultiLineString = list(</span>
<span class='co'>#    matrix(1:10, ncol = 5), matrix(1:8, ncol = 2)))</span>
<span class='co'># geojson2wkt(multist, fmt = 0)</span>


<span class='co'># polygon</span>
<span class='co'>## new format</span>
<span class='va'>poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Polygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.001</span>, <span class='fl'>101.1</span>, <span class='fl'>101.001</span>, <span class='fl'>100.001</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.201</span>, <span class='fl'>100.801</span>, <span class='fl'>100.801</span>, <span class='fl'>100.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.801</span>, <span class='fl'>0.201</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON ((100.0010000000000048 0.0010000000000000, 101.0999999999999943 0.0010000000000000, 101.0010000000000048 1.0009999999999999, 100.0010000000000048 0.0010000000000000), (100.2009999999999934 0.2010000000000000, 100.8010000000000019 0.2010000000000000, 100.8010000000000019 0.8010000000000000, 100.2009999999999934 0.2010000000000000))"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt<span class='op'>=</span><span class='fl'>6</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON ((100.001000 0.001000, 101.100000 0.001000, 101.001000 1.001000, 100.001000 0.001000), (100.201000 0.201000, 100.801000 0.201000, 100.801000 0.801000, 100.201000 0.201000))"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Polygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.1</span>, <span class='fl'>101.1</span>, <span class='fl'>101.1</span>, <span class='fl'>100.1</span>, <span class='fl'>0.1</span>, <span class='fl'>0.1</span>, <span class='fl'>1.1</span>, <span class='fl'>0.1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.2</span>, <span class='fl'>100.8</span>, <span class='fl'>100.8</span>, <span class='fl'>100.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.80</span>, <span class='fl'>0.2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON Z((100.10 0.10 1.00, 101.10 0.10 1.00, 101.10 1.10 1.00, 100.10 0.10 1.00), (100.20 0.20 3.00, 100.80 0.20 3.00, 100.80 0.80 3.00, 100.20 0.20 3.00))"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt <span class='op'>=</span> <span class='fl'>2</span>, third <span class='op'>=</span> <span class='st'>"m"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON M((100.10 0.10 1.00, 101.10 0.10 1.00, 101.10 1.10 1.00, 100.10 0.10 1.00), (100.20 0.20 3.00, 100.80 0.20 3.00, 100.80 0.80 3.00, 100.20 0.20 3.00))"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>'Polygon'</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.001</span>, <span class='fl'>101.1</span>, <span class='fl'>101.001</span>, <span class='fl'>100.001</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>,
      ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.201</span>, <span class='fl'>100.801</span>, <span class='fl'>100.801</span>, <span class='fl'>100.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.801</span>, <span class='fl'>0.201</span><span class='op'>)</span>,
      ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON ((100.0010000000000048 0.0010000000000000, 101.0999999999999943 0.0010000000000000, 101.0010000000000048 1.0009999999999999, 100.0010000000000048 0.0010000000000000), (100.2009999999999934 0.2010000000000000, 100.8010000000000019 0.2010000000000000, 100.8010000000000019 0.8010000000000000, 100.2009999999999934 0.2010000000000000))"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt<span class='op'>=</span><span class='fl'>6</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON ((100.001000 0.001000, 101.100000 0.001000, 101.001000 1.001000, 100.001000 0.001000), (100.201000 0.201000, 100.801000 0.201000, 100.801000 0.801000, 100.201000 0.201000))"</div><div class='input'>
<span class='co'>## points within Polygon that differ </span>
<span class='co'>## -&gt; use length of longest </span>
<span class='co'>## -&gt; fill with zeros</span>
<span class='co'># 3D and 2D</span>
<span class='va'>poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Polygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>101</span>, <span class='fl'>100</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.1</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>41</span>, <span class='fl'>61</span>, <span class='fl'>40</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.1</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON Z((100.0 0.1 5.0, 101.0 0.2 6.0, 101.0 0.3 7.0, 100.0 0.1 8.0), (40.0 0.1 0.0, 41.0 0.2 0.0, 61.0 0.3 0.0, 40.0 0.1 0.0))"</div><div class='input'><span class='co'># 4D and 2D</span>
<span class='va'>poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Polygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>101</span>, <span class='fl'>100</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.1</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>, 
     ncol <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>41</span>, <span class='fl'>61</span>, <span class='fl'>40</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.1</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>poly</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POLYGON ZM((100.0 0.1 5.0 1.0, 101.0 0.2 6.0 1.0, 101.0 0.3 7.0 1.0, 100.0 0.1 8.0 1.0), (40.0 0.1 0.0 0.0, 41.0 0.2 0.0 0.0, 61.0 0.3 0.0 0.0, 40.0 0.1 0.0 0.0))"</div><div class='input'><span class='co'># 5D and 2D - FAILS</span>
<span class='co'># multist &lt;- list(Polygon = list(</span>
<span class='co'>#    matrix(1:10, ncol = 5), matrix(1:8, ncol = 2)))</span>
<span class='co'># geojson2wkt(poly, fmt = 0)</span>



<span class='co'># multipolygon</span>
<span class='co'>## new format</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPolygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>101</span>, <span class='fl'>100</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.2</span>, <span class='fl'>100.8</span>, <span class='fl'>100.8</span>, <span class='fl'>100.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.8</span>, <span class='fl'>0.2</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>, <span class='fl'>6.0</span>, <span class='fl'>7.0</span>, <span class='fl'>8.0</span>, <span class='fl'>1.0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9.0</span>, <span class='fl'>10.0</span>, <span class='fl'>11.0</span>, <span class='fl'>12.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>9.0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: data length [9] is not a sub-multiple or multiple of the number of rows [5]</span></div><div class='output co'>#&gt; <span class='warning'>Warning: data length [9] is not a sub-multiple or multiple of the number of rows [5]</span></div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON (((100.000 0.001, 101.000 0.001, 101.000 1.001, 100.000 0.001), (100.20 0.20, 100.80 0.20, 100.80 0.80, 100.20 0.20)), ((1.00 6.00, 2.00 7.00, 3.00 8.00, 4.00 1.00, 5.00 1.00), (9.00 2.00, 10.00 3.00, 11.00 4.00, 12.00 9.00, 1.00 9.00)))"</div><div class='input'><span class='co'>## 3D</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPolygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>101</span>, <span class='fl'>100</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>, 
      ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.2</span>, <span class='fl'>100.8</span>, <span class='fl'>100.8</span>, <span class='fl'>100.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.8</span>, <span class='fl'>0.2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span>, 
      ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
  <span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>, <span class='fl'>6.0</span>, <span class='fl'>7.0</span>, <span class='fl'>8.0</span>, <span class='fl'>1.0</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>,
      ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9.0</span>, <span class='fl'>10.0</span>, <span class='fl'>11.0</span>, <span class='fl'>12.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>9.0</span>, <span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>9</span><span class='op'>)</span>,
      ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: data length [13] is not a sub-multiple or multiple of the number of rows [5]</span></div><div class='output co'>#&gt; <span class='warning'>Warning: data length [13] is not a sub-multiple or multiple of the number of rows [5]</span></div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON Z(((100.000 0.001 1.000, 101.000 0.001 1.000, 101.000 1.001 1.000, 100.000 0.001 1.000), (100.20 0.20 3.00, 100.80 0.20 4.00, 100.80 0.80 5.00, 100.20 0.20 6.00)), ((1.00 6.00 1.00, 2.00 7.00 1.00, 3.00 8.00 1.00, 4.00 1.00 1.00, 5.00 1.00 2.00), (9.00 2.00 9.00, 10.00 3.00 9.00, 11.00 4.00 9.00, 12.00 9.00 9.00, 1.00 9.00 10.00)))"</div><div class='input'><span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt<span class='op'>=</span><span class='fl'>2</span>, third <span class='op'>=</span> <span class='st'>"m"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON M(((100.000 0.001 1.000, 101.000 0.001 1.000, 101.000 1.001 1.000, 100.000 0.001 1.000), (100.20 0.20 3.00, 100.80 0.20 4.00, 100.80 0.80 5.00, 100.20 0.20 6.00)), ((1.00 6.00 1.00, 2.00 7.00 1.00, 3.00 8.00 1.00, 4.00 1.00 1.00, 5.00 1.00 2.00), (9.00 2.00 9.00, 10.00 3.00 9.00, 11.00 4.00 9.00, 12.00 9.00 9.00, 1.00 9.00 10.00)))"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>'MultiPolygon'</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>101</span>, <span class='fl'>101</span>, <span class='fl'>100</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.2</span>, <span class='fl'>100.8</span>, <span class='fl'>100.8</span>, <span class='fl'>100.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.8</span>, <span class='fl'>0.2</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
    <span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>, <span class='fl'>6.0</span>, <span class='fl'>7.0</span>, <span class='fl'>8.0</span>, <span class='fl'>1.0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9.0</span>, <span class='fl'>10.0</span>, <span class='fl'>11.0</span>, <span class='fl'>12.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>3.0</span>, <span class='fl'>4.0</span>, <span class='fl'>9.0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON Z(((100.000 0.001 0.000, 101.000 0.001 0.000, 101.000 1.001 0.000, 100.000 0.001 0.000), (100.20 0.20 0.00, 100.80 0.20 0.00, 100.80 0.80 0.00, 100.20 0.20 0.00)), ((1.00 4.00 7.00, 2.00 5.00 8.00, 3.00 6.00 1.00), (9.00 12.00 3.00, 10.00 1.00 4.00, 11.00 2.00 9.00)))"</div><div class='input'>
<span class='va'>mpoly2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>"MultiPolygon"</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>20</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>45</span>, <span class='fl'>40</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>40</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>5</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>10</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>20</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span> ,<span class='fl'>10</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>mpoly2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  type <span class='op'>=</span> <span class='st'>"MultiPolygon"</span>,
  coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>45</span>, <span class='fl'>10</span>, <span class='fl'>30</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>40</span>, <span class='fl'>20</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
    <span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>40</span>, <span class='fl'>10</span>, <span class='fl'>5</span>, <span class='fl'>15</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>10</span>, <span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly2</span>, fmt<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON (((30.0 20.0, 45.0 40.0, 10.0 40.0, 30.0 20.0)), ((15.0 5.0, 40.0 10.0, 10.0 20.0, 5.0 10.0, 15.0 5.0)))"</div><div class='input'>
<span class='co'>## points within MultiPolygon that differ </span>
<span class='co'>## -&gt; use length of longest </span>
<span class='co'>## -&gt; fill with zeros</span>
<span class='co'># 3D and 2D</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPolygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>130</span>, <span class='fl'>155</span>, <span class='fl'>40</span>, <span class='fl'>20</span>, <span class='fl'>34</span>, <span class='fl'>34</span>, <span class='fl'>20</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>54</span>, <span class='fl'>30</span>, <span class='fl'>0.1</span>, <span class='fl'>42</span>, <span class='fl'>62</span>, <span class='fl'>0.1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
  <span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>49</span>, <span class='fl'>79</span>, <span class='fl'>9</span>, <span class='fl'>11</span>, <span class='fl'>35</span>, <span class='fl'>15</span>, <span class='fl'>11</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>33</span>, <span class='fl'>59</span>, <span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>16</span>, <span class='fl'>36</span>, <span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON Z(((40 20 0, 130 34 0, 155 34 0, 40 20 0), (30.0 0.1 1.0, 40.0 42.0 1.0, 54.0 62.0 1.0, 30.0 0.1 1.0)), ((9 11 0, 49 35 0, 79 15 0, 9 11 0), (1 5 0, 33 16 0, 59 36 0, 1 5 0)))"</div><div class='input'><span class='co'># 4D and 2D</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPolygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>130</span>, <span class='fl'>155</span>, <span class='fl'>40</span>, <span class='fl'>20</span>, <span class='fl'>34</span>, <span class='fl'>34</span>, <span class='fl'>20</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>54</span>, <span class='fl'>30</span>, <span class='fl'>0.1</span>, <span class='fl'>42</span>, <span class='fl'>62</span>, <span class='fl'>0.1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
  <span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>49</span>, <span class='fl'>79</span>, <span class='fl'>9</span>, <span class='fl'>11</span>, <span class='fl'>35</span>, <span class='fl'>15</span>, <span class='fl'>11</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>33</span>, <span class='fl'>59</span>, <span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>16</span>, <span class='fl'>36</span>, <span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>mpoly</span>, fmt <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "MULTIPOLYGON ZM(((40 20 0 0, 130 34 0 0, 155 34 0 0, 40 20 0 0), (30.0 0.1 1.0 0.0, 40.0 42.0 1.0 0.0, 54.0 62.0 1.0 0.0, 30.0 0.1 1.0 0.0)), ((9 11 0 0, 49 35 0 0, 79 15 0 0, 9 11 0 0), (1 5 0 0, 33 16 0 0, 59 36 0 0, 1 5 0 0)))"</div><div class='input'><span class='co'># 5D and 2D - FAILS</span>
<span class='va'>mpoly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>MultiPolygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>130</span>, <span class='fl'>155</span>, <span class='fl'>40</span>, <span class='fl'>20</span>, <span class='fl'>34</span>, <span class='fl'>34</span>, <span class='fl'>20</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>54</span>, <span class='fl'>30</span>, 
             <span class='fl'>0.1</span>, <span class='fl'>42</span>, <span class='fl'>62</span>, <span class='fl'>0.1</span>, 
             <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, 
             <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>,
             <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
  <span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>49</span>, <span class='fl'>79</span>, <span class='fl'>9</span>, <span class='fl'>11</span>, <span class='fl'>35</span>, <span class='fl'>15</span>, <span class='fl'>11</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>33</span>, <span class='fl'>59</span>, <span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>16</span>, <span class='fl'>36</span>, <span class='fl'>5</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='co'># geojson2wkt(mpoly, fmt = 0)</span>



<span class='co'># geometrycollection</span>
<span class='co'>## new format</span>
<span class='va'>gmcoll</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>GeometryCollection <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
 <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Point <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>1.0</span><span class='op'>)</span><span class='op'>)</span>,
 <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>LineString <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                           <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span><span class='op'>)</span>,
                           ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
 <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Polygon <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.001</span>, <span class='fl'>101.1</span>, <span class='fl'>101.001</span>, <span class='fl'>100.001</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>,
     ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.201</span>, <span class='fl'>100.801</span>, <span class='fl'>100.801</span>, <span class='fl'>100.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.801</span>, <span class='fl'>0.201</span><span class='op'>)</span>,
     ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>gmcoll</span>, fmt<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "GEOMETRYCOLLECTION (POINT (0 1), LINESTRING (0 0, 2 1, 4 2, 5 4), POLYGON ((100.001 0.001, 101.100 0.001, 101.001 1.001, 100.001 0.001), (100.201 0.201, 100.801 0.201, 100.801 0.801, 100.201 0.201)))"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>gmcoll</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
 type <span class='op'>=</span> <span class='st'>'GeometryCollection'</span>,
 geometries <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>'Point'</span>, coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>1.0</span><span class='op'>)</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>'LineString'</span>, coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>5.0</span>,
                           <span class='fl'>0.0</span>, <span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span><span class='op'>)</span>,
                           ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>'Polygon'</span>, coordinates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
     <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.001</span>, <span class='fl'>101.1</span>, <span class='fl'>101.001</span>, <span class='fl'>100.001</span>, <span class='fl'>0.001</span>, <span class='fl'>0.001</span>, <span class='fl'>1.001</span>, <span class='fl'>0.001</span><span class='op'>)</span>,
       ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
     <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.201</span>, <span class='fl'>100.801</span>, <span class='fl'>100.801</span>, <span class='fl'>100.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.201</span>, <span class='fl'>0.801</span>, <span class='fl'>0.201</span><span class='op'>)</span>,
       ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
 <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>gmcoll</span>, fmt<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "GEOMETRYCOLLECTION (POINT (0 1), LINESTRING (0 0, 2 1, 4 2, 5 4), POLYGON ((100.001 0.001, 101.100 0.001, 101.001 1.001, 100.001 0.001), (100.201 0.201, 100.801 0.201, 100.801 0.801, 100.201 0.201)))"</div><div class='input'>
<span class='co'># Convert geojson as character string to WKT</span>
<span class='co'># new format</span>
<span class='va'>str</span> <span class='op'>&lt;-</span> <span class='st'>'{
   "Point": [
       -105.01621,
       39.57422
   ]
}'</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>str</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (-105.0162100000000009   39.5742199999999968)"</div><div class='input'>
<span class='co'>## old format, warns</span>
<span class='va'>str</span> <span class='op'>&lt;-</span> <span class='st'>'{
   "type": "Point",
   "coordinates": [
       -105.01621,
       39.57422
   ]
}'</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>str</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (-105.0162100000000009   39.5742199999999968)"</div><div class='input'>
<span class='co'>## new format</span>
<span class='va'>str</span> <span class='op'>&lt;-</span> <span class='st'>'{"LineString":[[0,0,10],[2,1,20],[4,2,30],[5,4,40]]}'</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>str</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING Z(0 0 10, 2 1 20, 4 2 30, 5 4 40)"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>str</span> <span class='op'>&lt;-</span>
<span class='st'>'{"type":"LineString","coordinates":[[0,0,10],[2,1,20],[4,2,30],[5,4,40]]}'</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>str</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "LINESTRING Z(0 0 10, 2 1 20, 4 2 30, 5 4 40)"</div><div class='input'>
<span class='co'># From a jsonlite json object</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://arxiv.org/abs/1403.2805'>"jsonlite"</a></span><span class='op'>)</span>
<span class='va'>json</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>toJSON</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Point<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>105</span>,<span class='fl'>39</span><span class='op'>)</span><span class='op'>)</span>, auto_unbox<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>json</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (-105   39)"</div><div class='input'><span class='co'>## old format, warns</span>
<span class='va'>json</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>toJSON</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>type<span class='op'>=</span><span class='st'>"Point"</span>, coordinates<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>105</span>,<span class='fl'>39</span><span class='op'>)</span><span class='op'>)</span>, auto_unbox<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>geojson2wkt</span><span class='op'>(</span><span class='va'>json</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "POINT (-105   39)"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-wellknown',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


